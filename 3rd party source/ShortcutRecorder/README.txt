This is based upon r45 of the Google Code version of shortcutrecorder:
http://code.google.com/p/shortcutrecorder/source/list

I changed a method's parameter types to match its declaration to quell a warning, but otherwise this is the stock source.